# Minecraft chat

<!-- TOC -->
* [Minecraft chat](#minecraft-chat)
  * [Как запустить](#как-запустить)
  * [Работа через консоль](#работа-через-консоль)
    * [Функционал](#функционал)
      * [Режим прослушки](#режим-прослушки)
      * [Регистрация + отправка сообщения](#регистрация--отправка-сообщения)
      * [Авторизация + отправка сообщения](#авторизация--отправка-сообщения)
  * [Работа через графический интерфейс](#работа-через-графический-интерфейс)
    * [Функционал](#функционал-1)
      * [Чат для отправки сообщений](#чат-для-отправки-сообщений)
      * [Регистрация](#регистрация)
<!-- TOC -->


## Как запустить

Для запуска, выполните следующие шаги:

**Установка зависимостей:** Установите необходимые библиотеки, используя `pip` и файл `requirements.txt`:

```bash
pip install -r requirements.txt
```

**Настройка окружения:** Это действие по-желанию, т.к. параметры можно вводить через аргументы консоли, об этом читай
ниже. Создайте файл `.env` в корневой директории проекта и укажите в нём следующие переменные:

- `RECEIVE_PORT` - порт для получения сообщений
- `RECEIVE_HOST` - хост для получения сообщений
- `SENDING_PORT` - порт для отправки сообщений
- `SENDING_HOST` - хост для отправки сообщений
- `TOKEN` - токен, выдаваемые при регистрации в чате


## Работа через консоль

**Основные скрипты находятся в каталоге `console_app`.** Перед запуском перейдите в этот каталог.

### Функционал

#### Режим прослушки

Скрипт `receiving_messages.py` предназначен только для прослушки чата.

Для использования, необходимы переменные окружения:

- `RECEIVE_PORT`
- `RECEIVE_HOST`

или аргументы командной строки:

- `--port`
- `--host`

Вся история сообщений с датой и временем сохраняется в файл `message_history.txt`.

Для запуска перейдите в директорию проекта и введите в консоль команду:

```bash
python receiving_messages.py
```

#### Регистрация + отправка сообщения
Для запуска этого режима необходимо при запуске скрипта указать переменные окружения/аргументы командной строки

- `--username` (доступен только через аргумент)
- `--message` (доступен только через аргумент)
- `--port` (доступен через переменную окружения `SENDING_PORT`)
- `--host` (доступен через переменную окружения `SENDING_HOST`)

При регистрации пользователя токен и имя сохраняются в файл `user.txt`.

Для запуска перейдите в директорию проекта и введите в консоль команду с аргументами:

```bash
python start_dialog.py --message <your_message>
```


#### Авторизация + отправка сообщения

Для запуска этого режима необходимо при запуске скрипта указать переменные окружения/аргументы командной строки

- `--token` (доступен через переменную окружения `TOKEN`)
- `--message` (доступен только через аргумент)
- `--port` (доступен через переменную окружения `SENDING_PORT`)
- `--host` (доступен через переменную окружения `SENDING_HOST`)

Для запуска перейдите в директорию проекта и введите в консоль команду с аргументами:

```bash
python start_dialog.py --message <your_message>
```

## Работа через графический интерфейс

**Основные скрипты находятся в каталоге `gui_app`.** Перед запуском перейдите в этот каталог.

### Функционал

#### Чат для отправки сообщений

Для использования, необходимы переменные окружения:

- `RECEIVE_PORT`
- `RECEIVE_HOST`
- `SENDING_PORT`
- `SENDING_HOST`
- `TOKEN`

или аргументы командной строки:

- `--receive_port`
- `--receive_host`
- `--send_port`
- `--send_host`
- `--token`

Вся история сообщений с датой и временем сохраняется в файл `message_history.txt`.

Для запуска перейдите в директорию проекта -> каталог приложения, и введите в консоль команду:

```bash
python start_dialog_gui.py
```

#### Регистрация
Для использования, необходимы переменные окружения:

- `SENDING_PORT`
- `SENDING_HOST`

При регистрации пользователя токен и имя сохраняются в файл `user.txt`. Так же скопировать имя и токен можно в ручную из графического интерфейса.

Для запуска перейдите в директорию проекта -> каталог приложения, и введите в консоль команду с аргументами:

```bash
python registration_gui.py
```
